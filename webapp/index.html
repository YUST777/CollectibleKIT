<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Story Puzzle Cutter</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
    
    <!-- Telegram Analytics SDK -->
    <script 
        async 
        src="https://tganalytics.xyz/index.js" 
        onload="initTelegramAnalytics()" 
        type="text/javascript"
    ></script>
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-container">
            <div id="lottie-animation" class="loading-animation"></div>
            <div class="loading-text">
                <h2>Story Canvas</h2>
                <p>Loading...</p>
            </div>
        </div>
    </div>

    <div id="app">
        <!-- Header -->
        <div class="header">
            <h1 id="header-title">üé® Story Puzzle Cutter</h1>
            <p id="header-subtitle">Transform your photos into puzzle stories!</p>
        </div>

        <!-- Tab Content Container -->
        <div id="tab-content">
            <!-- Story Tab Content -->
            <div id="story-tab" class="tab-panel active">
                <!-- Watermark Settings (Premium/VIP only) -->
                <div id="watermark-settings" class="watermark-settings" style="display: none;">
                    <div class="watermark-card">
                        <div class="watermark-header">
                            <h3>üíé Custom Watermark</h3>
                            <label class="toggle-switch">
                                <input type="checkbox" id="watermark-toggle" onchange="toggleWatermark()">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div id="watermark-input-container" class="watermark-input-container" style="display: none;">
                            <label for="watermark-text">Your Watermark Text:</label>
                            <input 
                                type="text" 
                                id="watermark-text" 
                                class="watermark-input" 
                                placeholder="Enter your custom text..." 
                                maxlength="50"
                            >
                            <p class="watermark-hint">Max 50 characters ‚Ä¢ Appears on all story pieces</p>
                        </div>
                    </div>
                </div>
                
                <!-- Upload Section -->
        <div id="upload-section" class="section active">
            <div class="upload-area" id="upload-area">
                <div class="upload-content">
                    <div class="upload-icon">üì∏</div>
                    <h3>Upload Your Photo</h3>
                    <p>Drag & drop or tap to select</p>
                    <input type="file" id="file-input" accept="image/*" style="display: none;">
                    <button class="tg-button primary" onclick="document.getElementById('file-input').click()">
                        Choose Photo
                    </button>
                </div>
            </div>
            
            <!-- Preview -->
            <div id="preview-section" class="preview-section" style="display: none;">
                <img id="preview-image" alt="Preview">
                <div class="preview-actions">
                    <button class="tg-button secondary" onclick="resetUpload()">Change Photo</button>
                    <button class="tg-button primary" onclick="processImage()">Cut into Stories</button>
                </div>
            </div>
        </div>

        <!-- Processing Section -->
        <div id="processing-section" class="section">
            <div class="processing-content">
                <div class="spinner"></div>
                <h3>Processing Your Photo...</h3>
                <p>Creating your story pieces</p>
            </div>
        </div>

        <!-- Story Grid Section -->
        <div id="story-section" class="section">
            <div class="section-header">
                <h3>Your Story Pieces</h3>
                <p>Tap a piece to share it to your story</p>
            </div>
            <div id="story-grid" class="story-grid">
                <!-- Story pieces will be inserted here -->
            </div>
        </div>

        <!-- Error Section -->
        <div id="error-section" class="section">
            <div class="error-content">
                <div class="error-icon">‚ö†Ô∏è</div>
                <h3 id="error-message">Something went wrong</h3>
                <p>Please try again</p>
                <button class="tg-button primary" onclick="resetUpload()">Try Again</button>
            </div>
        </div>
            </div>
            <!-- End Story Tab -->

            <!-- Tasks Tab Content -->
            <div id="tasks-tab" class="tab-panel">
                <div class="tasks-container">
                    <h2 class="tab-title">Tasks</h2>
                    <p class="tab-subtitle">Complete tasks to earn rewards</p>
                    
                    <div class="tasks-list">
                        <!-- Daily Tasks -->
                        <div class="task-category">
                            <h3 class="category-title">Daily Tasks</h3>
                            
                            <!-- Task Item 1 -->
                            <div class="task-item">
                                <div class="task-content">
                                    <div class="task-icon-wrapper">
                                        <svg class="task-icon" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <div class="task-details">
                                        <p class="task-title">Create Your First Story</p>
                                        <div class="task-reward-inline">
                                            <svg class="reward-icon" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                            </svg>
                                            <span class="reward-text">+1 Credit</span>
                                        </div>
                                    </div>
                                </div>
                                <button class="task-btn" onclick="switchTab('story')">Start</button>
                            </div>
                            
                            <!-- Task Item 2 -->
                            <div class="task-item">
                                <div class="task-content">
                                    <div class="task-icon-wrapper">
                                        <svg class="task-icon" fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z" />
                                        </svg>
                                    </div>
                                    <div class="task-details">
                                        <p class="task-title">Share 3 Story Pieces</p>
                                        <div class="task-reward-inline">
                                            <svg class="reward-icon" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                            </svg>
                                            <span class="reward-text">+2 Credits</span>
                                        </div>
                                    </div>
                                </div>
                                <button class="task-btn task-btn-inactive">0/3</button>
                            </div>
                        </div>
                        
                        <!-- Special Tasks -->
                        <div class="task-category">
                            <h3 class="category-title">Special Tasks</h3>
                            
                            <!-- Task Item 3 -->
                            <div class="task-item">
                                <div class="task-content">
                                    <div class="task-icon-wrapper">
                                        <svg class="task-icon" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z" clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <div class="task-details">
                                        <p class="task-title">Get Premium</p>
                                        <div class="task-reward-inline reward-premium">
                                            <svg class="reward-icon" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                            </svg>
                                            <span class="reward-text">+300 Credits</span>
                                        </div>
                                    </div>
                                </div>
                                <button class="task-btn task-btn-premium" onclick="showPremiumModal()">Upgrade</button>
                            </div>
                            
                            <!-- Task Item 4 -->
                            <div class="task-item">
                                <div class="task-content">
                                    <div class="task-icon-wrapper">
                                        <svg class="task-icon" fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z" />
                                        </svg>
                                    </div>
                                    <div class="task-details">
                                        <p class="task-title">Invite 3 Friends</p>
                                        <div class="task-reward-inline">
                                            <svg class="reward-icon" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                            </svg>
                                            <span class="reward-text">+5 Credits</span>
                                        </div>
                                    </div>
                                </div>
                                <button class="task-btn task-btn-disabled" disabled>Soon</button>
                            </div>
                            
                            <!-- Task Item 5 - Promotion Task -->
                            <div class="task-item">
                                <div class="task-content">
                                    <div class="task-icon-wrapper">
                                        <svg class="task-icon" fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.369 4.369 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z" />
                                        </svg>
                                    </div>
                                    <div class="task-details">
                                        <p class="task-title">Promote Story Canvas</p>
                                        <div class="task-reward-inline">
                                            <svg class="reward-icon" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                            </svg>
                                            <span class="reward-text">+3 Credits</span>
                                        </div>
                                    </div>
                                </div>
                                <button class="task-btn" onclick="sharePromotionStory()">Share</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Tasks Tab -->

            <!-- Profile Tab Content -->
            <div id="profile-tab" class="tab-panel">
                <div class="profile-container">
                    <h2 class="tab-title">Profile</h2>
                    <p class="tab-subtitle">Manage your account</p>
                    
                    <!-- User Info Card -->
                    <div class="profile-info-card">
                        <div class="profile-header">
                            <div class="profile-avatar" id="profile-avatar">
                                <span id="profile-initial">?</span>
                            </div>
                            <div class="profile-info">
                                <h3 id="profile-name" class="profile-name">Loading...</h3>
                                <p id="profile-username" class="profile-username">@username</p>
                            </div>
                        </div>
                        <div id="profile-status" class="profile-badge-wrapper">
                            <span id="profile-type-badge" class="profile-badge"></span>
                        </div>
                    </div>
                    
                    <!-- Stats Card -->
                    <div class="stats-section">
                        <h3 class="section-title">Statistics</h3>
                        <div class="stats-grid-modern">
                            <div class="stat-card">
                                <div class="stat-icon-wrapper stat-icon-purple">
                                    <svg class="stat-icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                                    </svg>
                                </div>
                                <div class="stat-info">
                                    <div class="stat-value" id="stat-stories">0</div>
                                    <div class="stat-label">Stories</div>
                                </div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon-wrapper stat-icon-gold">
                                    <svg class="stat-icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                    </svg>
                                </div>
                                <div class="stat-info">
                                    <div class="stat-value" id="stat-credits">0</div>
                                    <div class="stat-label">Credits</div>
                                </div>
                            </div>
                            
                            <div class="stat-card">
                                <div class="stat-icon-wrapper stat-icon-green">
                                    <svg class="stat-icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                                    </svg>
                                </div>
                                <div class="stat-info">
                                    <div class="stat-value" id="stat-free">3</div>
                                    <div class="stat-label">Free</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Subscription Info -->
                    <div class="subscription-section">
                        <h3 class="section-title">Subscription</h3>
                        <div id="subscription-info" class="subscription-content">
                            <div class="subscription-plan">
                                <div class="plan-icon">
                                    <svg fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z" clip-rule="evenodd" />
                                    </svg>
                                </div>
                                <div class="plan-details">
                                    <p id="subscription-status" class="plan-name">Free Plan</p>
                                    <p class="plan-features">3 stories with watermark</p>
                                </div>
                            </div>
                            <button class="btn-upgrade" onclick="showPremiumModal()">
                                <svg class="btn-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z" clip-rule="evenodd" />
                                </svg>
                                Upgrade
                            </button>
                        </div>
                    </div>
                    
                    <!-- Settings -->
                    <div class="settings-section">
                        <h3 class="section-title">Settings</h3>
                        <div class="settings-list-modern">
                            <div class="setting-row">
                                <div class="setting-left">
                                    <div class="setting-icon">
                                        <svg fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
                                        </svg>
                                    </div>
                                    <span class="setting-label">Theme</span>
                                </div>
                                <span class="setting-value">Auto</span>
                            </div>
                            <div class="setting-row">
                                <div class="setting-left">
                                    <div class="setting-icon">
                                        <svg fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z" />
                                        </svg>
                                    </div>
                                    <span class="setting-label">Notifications</span>
                                </div>
                                <span class="setting-value">On</span>
                            </div>
                            <div class="setting-row">
                                <div class="setting-left">
                                    <div class="setting-icon">
                                        <svg fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                    <span class="setting-label">Version</span>
                                </div>
                                <span class="setting-value">1.0.0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Profile Tab -->
        </div>
        <!-- End Tab Content -->
        
        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-button active" onclick="switchTab('story')" data-tab="story">
                <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
                </svg>
                <span class="nav-label">Story</span>
            </button>
            
            <button class="nav-button" onclick="switchTab('tasks')" data-tab="tasks">
                <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" />
                    <path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd" />
                </svg>
                <span class="nav-label">Tasks</span>
            </button>
            
            <button class="nav-button" onclick="switchTab('profile')" data-tab="profile">
                <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                </svg>
                <span class="nav-label">Profile</span>
            </button>
        </nav>
        
        <!-- Premium Modal -->
        <div id="premium-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üíé Premium Subscription</h2>
                    <button class="modal-close" onclick="closePremiumModal()">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="premium-features">
                        <div class="feature-item">
                            <span class="feature-icon">‚ú®</span>
                            <span class="feature-text">300 credits (10 stories/day for 30 days)</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üö´</span>
                            <span class="feature-text">No watermarks</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">‚ö°</span>
                            <span class="feature-text">Priority processing</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üé®</span>
                            <span class="feature-text">Advanced customization</span>
                        </div>
                    </div>
                    
                    <div class="premium-price">
                        <div class="price-tag">
                            <span class="price-amount">1 TON</span>
                            <span class="price-period">per month</span>
                        </div>
                    </div>
                    
                    <div id="ton-connect-container" class="ton-connect-container">
                        <!-- TON Connect UI will be rendered here -->
                    </div>
                    
                    <button id="pay-premium-button" class="premium-pay-button" onclick="payPremium()" style="display: none;">
                        üíé Pay 1 TON
                    </button>
                    
                    <p class="premium-note">
                        Secure payment via TON blockchain
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Telegram Analytics Initialization -->
    <script>
        function initTelegramAnalytics() {
            if (window.telegramAnalytics) {
                window.telegramAnalytics.init({
                    token: 'YOUR_TOKEN_FROM_TON_BUILDERS', // TODO: Replace with token from https://builders.ton.org
                    appName: 'story-canvas-cutter', // TODO: Replace with your analytics identifier
                });
                console.log('‚úÖ Telegram Analytics initialized');
            } else {
                console.warn('‚ö†Ô∏è Telegram Analytics not loaded yet');
            }
        }
    </script>

    <script src="app.js"></script>
</body>
</html>
